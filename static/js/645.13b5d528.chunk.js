"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[645],{1645:function(e,n,t){t.r(n),t.d(n,{default:function(){return R}});var r=t(5671),i=t(3144),s=t(9340),o=t(5716),u=t(2791),l=t(364),a=t(2938),c=t(9448),d=t.n(c),f="Users_Users__7963F",p=t(885),g="Pagination_Pagination__3dt1o",v=t(184),h=function(e){var n=e.i,t=e.currentPage,r=e.onPageChanged,i=d()(["badge",t===n?"current":null]);return(0,v.jsx)("li",{className:i,children:(0,v.jsx)("button",{onClick:function(){r(n)},children:n})})},x=function(e){var n=e.itemsCount,t=e.currentPage,r=e.onPageChanged,i=d()([g,"pagination"]),s=Math.ceil(n/10),o=(0,u.useState)(1),l=(0,p.Z)(o,2),a=l[0],c=l[1],f=10*(a-1)+1,x=10*a;return(0,v.jsxs)("div",{className:i,children:[(0,v.jsx)("button",{className:"pagination-control prev",onClick:function(){c((function(e){return 1===e?s:e-1}))},children:(0,v.jsx)("svg",{viewBox:"0 0 20 20",children:(0,v.jsx)("path",{d:"M13.891 17.418a.697.697 0 0 1 0 .979.68.68 0 0 1-.969 0l-7.83-7.908a.697.697 0 0 1 0-.979l7.83-7.908a.68.68 0 0 1 .969 0 .697.697 0 0 1 0 .979L6.75 10l7.141 7.418z"})})}),(0,v.jsx)("ul",{className:"items-list",children:function(e){for(var n=[],i=1;i<=e;i++)i>=f&&i<=x&&n.push((0,v.jsx)(h,{i:i,currentPage:t,onPageChanged:r},i));return n}(n)}),(0,v.jsx)("button",{className:"pagination-control next",onClick:function(){c((function(e){return e>=s?1:e+1}))},children:(0,v.jsx)("svg",{viewBox:"0 0 20 20",children:(0,v.jsx)("path",{d:"M13.25 10L6.109 2.58a.697.697 0 0 1 0-.979.68.68 0 0 1 .969 0l7.83 7.908a.697.697 0 0 1 0 .979l-7.83 7.908a.68.68 0 0 1-.969 0 .697.697 0 0 1 0-.979L13.25 10z"})})})]})},j=t(3440),m=t(332),y="UsersList_UsersList__87G3k",b="UserItem_UserItem__hK7gR",C=t(4753),w=t(3504),P=t(2620),k=function(e){var n,t,r=e.user,i=e.toggleIsFollowed,s=e.isButtonsDisabled,o=d()([b,"user-item","bordered"]),u=null!==r&&void 0!==r&&r.image?null===r||void 0===r?void 0:r.image:P;return(0,v.jsxs)("div",{className:o,children:[(0,v.jsxs)("div",{className:"col",children:[(0,v.jsx)(w.rU,{to:"/users/".concat(null===r||void 0===r?void 0:r.id),children:(0,v.jsxs)("picture",{children:[(0,v.jsx)("source",{srcSet:u,type:"image/webp"}),(0,v.jsx)("img",{src:u,alt:""})]})}),(0,v.jsx)(m.Z,{onClick:function(){i(r.id,null===r||void 0===r?void 0:r.followed)},disabled:s.some((function(e){return e===(null===r||void 0===r?void 0:r.id)})),children:null!==r&&void 0!==r&&r.followed?"Unfollow":"Follow"})]}),(0,v.jsxs)("div",{className:"col",children:[(0,v.jsxs)("div",{className:"left",children:[(0,v.jsx)(C.Z,{label:"name:",value:null===r||void 0===r?void 0:r.name}),(0,v.jsx)(C.Z,{label:"description:",value:null===r||void 0===r?void 0:r.description}),(0,v.jsx)(C.Z,{label:"status:",value:null===r||void 0===r?void 0:r.status})]}),(0,v.jsxs)("div",{className:"right",children:[(0,v.jsx)(C.Z,{label:"id:",value:null===r||void 0===r?void 0:r.id}),(0,v.jsx)(C.Z,{label:"country:",value:null===r||void 0===r||null===(n=r.location)||void 0===n?void 0:n.country}),(0,v.jsx)(C.Z,{label:"city:",value:null===r||void 0===r||null===(t=r.location)||void 0===t?void 0:t.city})]})]})]})},U=function(e){var n=e.users,t=e.toggleIsFollowed,r=e.isButtonsDisabled,i=d()([y,"users-list"]);return(0,v.jsx)("div",{className:i,children:n?n.map((function(e){return(0,v.jsx)(k,{user:e,toggleIsFollowed:t,isButtonsDisabled:r},e.id)})):(0,v.jsx)("p",{children:"no users found"})})},F=function(e){var n=e.pagesCount,t=e.currentPage,r=e.onPageChanged,i=e.isLoading,s=e.users,o=e.isButtonsDisabled,u=e.toggleIsFollowed,l=(e.getUsers,d()([f,"users"]));return(0,v.jsxs)("div",{className:l,children:[(0,v.jsx)(x,{itemsCount:n,currentPage:t,onPageChanged:r}),i?(0,v.jsx)(j.Z,{isLoading:i}):(0,v.jsx)(U,{users:s,isButtonsDisabled:o,toggleIsFollowed:u})]})},N="NOT_FOUND";var B=function(e,n){return e===n};function Z(e,n){var t="object"===typeof n?n:{equalityCheck:n},r=t.equalityCheck,i=void 0===r?B:r,s=t.maxSize,o=void 0===s?1:s,u=t.resultEqualityCheck,l=function(e){return function(n,t){if(null===n||null===t||n.length!==t.length)return!1;for(var r=n.length,i=0;i<r;i++)if(!e(n[i],t[i]))return!1;return!0}}(i),a=1===o?function(e){var n;return{get:function(t){return n&&e(n.key,t)?n.value:N},put:function(e,t){n={key:e,value:t}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}}(l):function(e,n){var t=[];function r(e){var r=t.findIndex((function(t){return n(e,t.key)}));if(r>-1){var i=t[r];return r>0&&(t.splice(r,1),t.unshift(i)),i.value}return N}return{get:r,put:function(n,i){r(n)===N&&(t.unshift({key:n,value:i}),t.length>e&&t.pop())},getEntries:function(){return t},clear:function(){t=[]}}}(o,l);function c(){var n=a.get(arguments);if(n===N){if(n=e.apply(null,arguments),u){var t=a.getEntries(),r=t.find((function(e){return u(e.value,n)}));r&&(n=r.value)}a.put(arguments,n)}return n}return c.clearCache=function(){return a.clear()},c}function _(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var t=n.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return n}function D(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var i=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s,o=0,u={memoizeOptions:void 0},l=r.pop();if("object"===typeof l&&(u=l,l=r.pop()),"function"!==typeof l)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof l+"]");var a=u,c=a.memoizeOptions,d=void 0===c?t:c,f=Array.isArray(d)?d:[d],p=_(r),g=e.apply(void 0,[function(){return o++,l.apply(null,arguments)}].concat(f)),v=e((function(){for(var e=[],n=p.length,t=0;t<n;t++)e.push(p[t].apply(null,arguments));return s=g.apply(null,e)}));return Object.assign(v,{resultFunc:l,memoizedResultFunc:g,dependencies:p,lastResult:function(){return s},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),v};return i}var z=D(Z),I=z([function(e){return e.usersPage.users}],(function(e){return e.filter((function(e){return!0}))})),L=function(e){return e.usersPage.pageSize},S=function(e){return e.usersPage.totalUsersCount},A=function(e){return e.usersPage.currentPage},E=function(e){return e.usersPage.isLoading},M=function(e){return e.usersPage.isButtonsDisabled},O=function(e){(0,s.Z)(t,e);var n=(0,o.Z)(t);function t(){return(0,r.Z)(this,t),n.apply(this,arguments)}return(0,i.Z)(t,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"onPageChanged",value:function(e){this.props.getUsers(e,this.props.pageSize)}},{key:"onGetUsersButtonClick",value:function(){}},{key:"toggleIsFollowed",value:function(e,n){n?this.props.unFollowUser(e):this.props.followUser(e)}},{key:"render",value:function(){var e=Math.ceil(this.props.totalUsersCount/this.props.pageSize);return(0,v.jsx)(F,{pagesCount:e,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged.bind(this),isLoading:this.props.isLoading,users:this.props.users,isButtonsDisabled:this.props.isButtonsDisabled,toggleIsFollowed:this.toggleIsFollowed.bind(this),getUsers:this.onGetUsersButtonClick.bind(this)})}}]),t}(u.Component),R=(0,l.$j)((function(e){return{users:I(e),pageSize:L(e),totalUsersCount:S(e),currentPage:A(e),isLoading:E(e),isButtonsDisabled:M(e)}}),{setCurrentPage:a.D4,getUsers:a.Uk,followUser:a.V1,unFollowUser:a.Xn})(O)}}]);
//# sourceMappingURL=645.13b5d528.chunk.js.map